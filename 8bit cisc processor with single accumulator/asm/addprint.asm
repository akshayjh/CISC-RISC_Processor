START:
MOV A, #0H
MOV R0, #0H
MOV R1, #0H
MOV R2, #0H
MOV R3, #0H
MOV R4, #0H
MOV R5, #0H
MOV R6, #0H
MOV R7, #0H

RD0:
JNKB RD0
LDA 8001H
MOV R0, A
RD1:
JNKB RD1
LDA 8001H
MOV R1, A
RDP:
JNKB RDP
LDA 8001H

MOV A, #0H
P11:
JNPB P11
STA 8002H
MOV A, #0AH
P12:
JNPB P12
STA 8002H
MOV A, R1
P13:
JNPB P13
STA 8002H
MOV A, R0
MOV R7, #10H
ADD A, R7
P14:
JNPB P14
STA 8002H

RD2:
JNKB RD2
LDA 8001H
MOV R2, A
RD3:
JNKB RD3
LDA 8001H
MOV R3, A
RDE:
JNKB RDE
LDA 8001H

MOV A, #09H
P01:
JNPB P01
STA 8002H
MOV A, #0AH
P02:
JNPB P02
STA 8002H
MOV A, R3
P03:
JNPB P03
STA 8002H
MOV A, R2
MOV R7, #10H
ADD A, R7
P04:
JNPB P04
STA 8002H

MOV A, R1
ADD A, R3
MOV R7, #0AH
SUB A, R7
JC EN0
MOV R6, A ;r6=r1+r3>=10
MOV R7, #1H
MOV A, R0
ADD A, R2
ADD A, R7
MOV R7, #0AH
SUB A, R7
JC EN1
MOV R5, A ;r5=r0+r2+1>=10
MOV R4, #01H ;r4=1
JMP END
EN0:
MOV R7, #0AH ;r6=r1+r3<10
ADD A, R7
MOV R6, A
MOV A, R0
ADD A, R2
MOV R7, #0AH
SUB A, R7
JC EN1
MOV R5, A ;r5=r0+r2>=10
MOV R4, #01H ;r4=1
JMP END
EN1:
MOV R7, #0AH ;r5=r0+r2=r5<10
ADD A, R7
MOV R5, A
MOV R4, #0H ;r4=0

END:
MOV A, #03H
P31:
JNPB P31
STA 8002H

MOV A, #0AH
P32:
JNPB P32
STA 8002H

MOV A, R6
P33:
JNPB P33
STA 8002H

MOV A, R4
MOV R7, #01H
SUB A, R7

JC END0
MOV A, R5
P36:
JNPB P36
STA 8002H
MOV A, R4
MOV R7, #10H
ADD A, R7
P35:
JNPB P35
STA 8002H
JMP END1

END0:
MOV A, R5
MOV R7, #10H
ADD A, R7
P34:
JNPB P34
STA 8002H
END1:

JMP START
